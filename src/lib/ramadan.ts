import { differenceInDays, addDays, format, startOfDay } from 'date-fns';

// Ramadan Start Date: Feb 19, 2026
export const RAMADAN_START_DATE = new Date('2026-02-19T00:00:00');

export const getRamadanDay = (): number => {
  const today = startOfDay(new Date());
  const start = startOfDay(RAMADAN_START_DATE);
  const diff = differenceInDays(today, start);
  // Day 1 is the start date, so we add 1.
  // If diff is negative, it's before Ramadan.
  return diff + 1;
};

export const getGregorianDateForRamadanDay = (day: number): Date => {
  return addDays(RAMADAN_START_DATE, day - 1);
};

export const ramadanEvents = [
  { day: 1, event: "نزول الوحي على النبي محمد ﷺ في غار حراء (على أحد الأقوال).", title: "بداية الوحي" },
  { day: 2, event: "نزول صحف إبراهيم عليه السلام.", title: "صحف إبراهيم" },
  { day: 3, event: "وفاة السيدة فاطمة الزهراء رضي الله عنها (11 هـ).", title: "وفاة فاطمة الزهراء" },
  { day: 4, event: "عقد النبي ﷺ لواءً لحمزة بن عبد المطلب (1 هـ).", title: "لواء حمزة" },
  { day: 5, event: "دخول المعز لدين الله الفاطمي القاهرة (362 هـ).", title: "دخول المعز للقاهرة" },
  { day: 6, event: "نزول التوراة على موسى عليه السلام.", title: "نزول التوراة" },
  { day: 7, event: "افتتاح الجامع الأزهر في القاهرة (361 هـ).", title: "افتتاح الأزهر" },
  { day: 8, event: "غزوة بدر الأولى (2 هـ).", title: "غزوة بدر الأولى" },
  { day: 9, event: "وصول جيش المسلمين إلى الأندلس بقيادة طارق بن زياد (92 هـ).", title: "فتح الأندلس" },
  { day: 10, event: "وفاة السيدة خديجة بنت خويلد رضي الله عنها (قبل الهجرة بـ 3 سنوات).", title: "وفاة خديجة" },
  { day: 11, event: "مؤاخاة النبي ﷺ بين المهاجرين والأنصار (1 هـ).", title: "المؤاخاة" },
  { day: 12, event: "دخول النبي ﷺ المدينة المنورة (1 هـ).", title: "دخول المدينة" },
  { day: 13, event: "نزول الإنجيل على عيسى عليه السلام.", title: "نزول الإنجيل" },
  { day: 14, event: "وفاة مظفر الدين كوكبري، أحد قادة صلاح الدين (630 هـ).", title: "وفاة كوكبري" },
  { day: 15, event: "مولد الإمام الحسن بن علي رضي الله عنهما (3 هـ).", title: "مولد الحسن" },
  { day: 16, event: "وفاة المؤرخ المقريزي (845 هـ).", title: "وفاة المقريزي" },
  { day: 17, event: "غزوة بدر الكبرى (2 هـ) - يوم الفرقان.", title: "غزوة بدر الكبرى" },
  { day: 18, event: "نزول الزبور على داود عليه السلام.", title: "نزول الزبور" },
  { day: 19, event: "فتح مكة (8 هـ).", title: "فتح مكة" },
  { day: 20, event: "فتح مكة (استكمال الدخول والسيطرة) (8 هـ).", title: "فتح مكة" },
  { day: 21, event: "وفاة الإمام علي بن أبي طالب رضي الله عنه (40 هـ).", title: "وفاة علي بن أبي طالب" },
  { day: 22, event: "ميلاد ابن ماجه، صاحب السنن (209 هـ).", title: "ميلاد ابن ماجه" },
  { day: 23, event: "نزول القرآن الكريم إلى السماء الدنيا (ليلة القدر على أحد الأقوال).", title: "نزول القرآن" },
  { day: 24, event: "بدء بناء مسجد عمرو بن العاص في الفسطاط (21 هـ).", title: "مسجد عمرو بن العاص" },
  { day: 25, event: "معركة عين جالوت (658 هـ) - انتصار المسلمين على المغول.", title: "معركة عين جالوت" },
  { day: 26, event: "وفاة ابن خلدون (808 هـ).", title: "وفاة ابن خلدون" },
  { day: 27, event: "ليلة القدر (على الأرجح).", title: "ليلة القدر" },
  { day: 28, event: "دخول المسلمين الأندلس (92 هـ).", title: "دخول الأندلس" },
  { day: 29, event: "فرض زكاة الفطر (2 هـ).", title: "فرض زكاة الفطر" },
  { day: 30, event: "وفاة عمرو بن العاص (43 هـ).", title: "وفاة عمرو بن العاص" }
];

export const quranJuz = [
  { juz: 1, surahs: "الفاتحة - البقرة (141)", dua: "اللهم اجعل القرآن ربيع قلوبنا" },
  { juz: 2, surahs: "البقرة (142 - 252)", dua: "اللهم ذكرنا منه ما نسينا" },
  { juz: 3, surahs: "البقرة (253) - آل عمران (92)", dua: "اللهم ارزقنا تلاوته آناء الليل وأطراف النهار" },
  { juz: 4, surahs: "آل عمران (93) - النساء (23)", dua: "اللهم اجعلنا من أهل القرآن" },
  { juz: 5, surahs: "النساء (24 - 147)", dua: "اللهم ارحمنا بالقرآن" },
  { juz: 6, surahs: "النساء (148) - المائدة (81)", dua: "اللهم اجعله لنا إماماً ونوراً وهدى ورحمة" },
  { juz: 7, surahs: "المائدة (82) - الأنعام (110)", dua: "اللهم ألبسنا به الحلل" },
  { juz: 8, surahs: "الأنعام (111) - الأعراف (87)", dua: "اللهم أسكنا به الظلل" },
  { juz: 9, surahs: "الأعراف (88) - الأنفال (40)", dua: "اللهم ادفع عنا به النقم" },
  { juz: 10, surahs: "الأنفال (41) - التوبة (92)", dua: "اللهم اجعلنا عند النعماء من الشاكرين" },
  { juz: 11, surahs: "التوبة (93) - هود (5)", dua: "اللهم اجعلنا عند البلاء من الصابرين" },
  { juz: 12, surahs: "هود (6) - يوسف (52)", dua: "اللهم لا تجعلنا ممن استهوته الشياطين" },
  { juz: 13, surahs: "يوسف (53) - إبراهيم (52)", dua: "اللهم انفعنا بما علمتنا" },
  { juz: 14, surahs: "الحجر - النحل (128)", dua: "اللهم زدنا علماً" },
  { juz: 15, surahs: "الإسراء - الكهف (74)", dua: "اللهم طهر قلوبنا من النفاق" },
  { juz: 16, surahs: "الكهف (75) - طه (135)", dua: "اللهم حصن فروجنا من الزنا" },
  { juz: 17, surahs: "الأنبياء - الحج (78)", dua: "اللهم اجعل أعمالنا خالصة لوجهك الكريم" },
  { juz: 18, surahs: "المؤمنون - الفرقان (20)", dua: "اللهم تقبل منا صيامنا وقيامنا" },
  { juz: 19, surahs: "الفرقان (21) - النمل (55)", dua: "اللهم اعتق رقابنا من النار" },
  { juz: 20, surahs: "النمل (56) - العنكبوت (45)", dua: "اللهم اغفر للمؤمنين والمؤمنات" },
  { juz: 21, surahs: "العنكبوت (46) - الأحزاب (30)", dua: "اللهم أصلح أحوال المسلمين" },
  { juz: 22, surahs: "الأحزاب (31) - يس (27)", dua: "اللهم انصر الإسلام والمسلمين" },
  { juz: 23, surahs: "يس (28) - الزمر (31)", dua: "اللهم ارحم موتانا وموتى المسلمين" },
  { juz: 24, surahs: "الزمر (32) - فصلت (46)", dua: "اللهم اشف مرضانا ومرضى المسلمين" },
  { juz: 25, surahs: "فصلت (47) - الجاثية (37)", dua: "اللهم اختم بالباقيات الصالحات أعمالنا" },
  { juz: 26, surahs: "الأحقاف - الذاريات (30)", dua: "اللهم توفنا مسلمين وألحقنا بالصالحين" },
  { juz: 27, surahs: "الذاريات (31) - الحديد (29)", dua: "اللهم اجعل خير أعمالنا خواتيمها" },
  { juz: 28, surahs: "المجادلة - التحريم (12)", dua: "اللهم اجعل خير أيامنا يوم نلقاك" },
  { juz: 29, surahs: "الملك - المرسلات (50)", dua: "اللهم اجعلنا من عتقاء شهر رمضان" },
  { juz: 30, surahs: "النبأ - الناس", dua: "اللهم تقبل منا إنك أنت السميع العليم" },
];
